{
  "info": {
    "name": "AI Code Reviewer API",
    "description": "Comprehensive API collection for the AI Code Reviewer system. This collection provides endpoints for repository management, pull request analysis, commit reviews, workflow execution, cache management, and system configuration.",
    "version": "1.1.0",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "protocol",
      "value": "https",
      "description": "Protocol (http or https)"
    },
    {
      "key": "host",
      "value": "localhost",
      "description": "Host name or IP address"
    },
    {
      "key": "port",
      "value": "7001",
      "description": "Port number"
    },
    {
      "key": "apiPath",
      "value": "/api/v1",
      "description": "API path prefix with version"
    },
    {
      "key": "currentOwner",
      "value": "microsoft",
      "description": "Current repository owner (can be changed for testing)"
    },
    {
      "key": "currentRepo",
      "value": "vscode",
      "description": "Current repository name (can be changed for testing)"
    },
    {
      "key": "prNumber",
      "value": "1",
      "description": "Pull request number for testing"
    },
    {
      "key": "commitSha",
      "value": "",
      "description": "Commit SHA for testing (will be populated from API responses)"
    }
  ],
  "item": [
    {
      "name": "Repository Management",
      "description": "Operations for managing repositories and their context",
      "item": [
        {
          "name": "Get Current Repository",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{protocol}}://{{host}}:{{port}}{{apiPath}}/repositories/current",
              "host": ["{{host}}"],
              "port": "{{port}}",
              "path": ["api", "v1", "repositories", "current"]
            },
            "description": "Retrieves the currently configured repository"
          },
          "response": []
        },
        {
          "name": "Get All Repositories",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{protocol}}://{{host}}:{{port}}{{apiPath}}/repositories",
              "host": ["{{host}}"],
              "port": "{{port}}",
              "path": ["api", "v1", "repositories"]
            },
            "description": "Gets a list of all available repositories"
          },
          "response": []
        },
        {
          "name": "Get Repository History",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{protocol}}://{{host}}:{{port}}{{apiPath}}/repositories/history",
              "host": ["{{host}}"],
              "port": "{{port}}",
              "path": ["api", "v1", "repositories", "history"]
            },
            "description": "Gets the history of recently accessed repositories"
          },
          "response": []
        },
        {
          "name": "Get Available Repositories",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{protocol}}://{{host}}:{{port}}{{apiPath}}/repositories/available",
              "host": ["{{host}}"],
              "port": "{{port}}",
              "path": ["api", "v1", "repositories", "available"]
            },
            "description": "Gets available repositories for the configured user"
          },
          "response": []
        },
        {
          "name": "Validate Repository",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{protocol}}://{{host}}:{{port}}{{apiPath}}/repositories/validate/{{currentOwner}}/{{currentRepo}}",
              "host": ["{{host}}"],
              "port": "{{port}}",
              "path": [
                "api",
                "v1",
                "repositories",
                "validate",
                "{{currentOwner}}",
                "{{currentRepo}}"
              ]
            },
            "description": "Validates that a repository exists and is accessible"
          },
          "response": []
        },
        {
          "name": "Set Current Repository (POST)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"owner\": \"{{currentOwner}}\",\n  \"name\": \"{{currentRepo}}\"\n}"
            },
            "url": {
              "raw": "{{protocol}}://{{host}}:{{port}}{{apiPath}}/repositories/current",
              "host": ["{{host}}"],
              "port": "{{port}}",
              "path": ["api", "v1", "repositories", "current"]
            },
            "description": "Sets the current repository context"
          },
          "response": []
        },
        {
          "name": "Set Repository (Alternative)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"owner\": \"{{currentOwner}}\",\n  \"name\": \"{{currentRepo}}\"\n}"
            },
            "url": {
              "raw": "{{protocol}}://{{host}}:{{port}}{{apiPath}}/repositories/set",
              "host": ["{{host}}"],
              "port": "{{port}}",
              "path": ["api", "v1", "repositories", "set"]
            },
            "description": "Alternative endpoint to set repository context"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Pull Request Operations",
      "description": "Operations for managing and reviewing pull requests",
      "item": [
        {
          "name": "List All Pull Requests",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{protocol}}://{{host}}:{{port}}{{apiPath}}/pullrequests",
              "host": ["{{host}}"],
              "port": "{{port}}",
              "path": ["api", "v1", "pullrequests"]
            },
            "description": "Gets all pull requests for the current repository"
          },
          "response": []
        },
        {
          "name": "Switch Repository Context",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": {
              "raw": "{{protocol}}://{{host}}:{{port}}{{apiPath}}/pullrequests/repository/{{currentOwner}}/{{currentRepo}}",
              "host": ["{{host}}"],
              "port": "{{port}}",
              "path": [
                "api",
                "v1",
                "pullrequests",
                "repository",
                "{{currentOwner}}",
                "{{currentRepo}}"
              ]
            },
            "description": "Switches the repository context for pull request operations"
          },
          "response": []
        },
        {
          "name": "Get Open Pull Requests",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{protocol}}://{{host}}:{{port}}{{apiPath}}/pullrequests/open",
              "host": ["{{host}}"],
              "port": "{{port}}",
              "path": ["api", "v1", "pullrequests", "open"]
            },
            "description": "Gets all open pull requests for the current repository"
          },
          "response": []
        },
        {
          "name": "Review Pull Request",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": {
              "raw": "{{protocol}}://{{host}}:{{port}}{{apiPath}}/pullrequests/review/{{prNumber}}",
              "host": ["{{host}}"],
              "port": "{{port}}",
              "path": ["api", "v1", "pullrequests", "review", "{{prNumber}}"]
            },
            "description": "Performs AI-powered review of a specific pull request"
          },
          "response": []
        },
        {
          "name": "Get Pull Request Details",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{protocol}}://{{host}}:{{port}}{{apiPath}}/pullrequests/{{prNumber}}",
              "host": ["{{host}}"],
              "port": "{{port}}",
              "path": ["api", "v1", "pullrequests", "{{prNumber}}"]
            },
            "description": "Gets detailed information about a specific pull request"
          },
          "response": []
        },
        {
          "name": "Get Pull Request Files",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{protocol}}://{{host}}:{{port}}{{apiPath}}/pullrequests/{{prNumber}}/files",
              "host": ["{{host}}"],
              "port": "{{port}}",
              "path": ["api", "v1", "pullrequests", "{{prNumber}}", "files"]
            },
            "description": "Gets the list of files changed in a pull request"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Commit Operations",
      "description": "Operations for managing and reviewing commits",
      "item": [
        {
          "name": "Get Repository Branches",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{protocol}}://{{host}}:{{port}}{{apiPath}}/commits/branches",
              "host": ["{{host}}"],
              "port": "{{port}}",
              "path": ["api", "v1", "commits", "branches"]
            },
            "description": "Gets all branches for the current repository"
          },
          "response": []
        },
        {
          "name": "Get Recent Commits",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{protocol}}://{{host}}:{{port}}{{apiPath}}/commits/recent?count=10&branch=main",
              "host": ["{{host}}"],
              "port": "{{port}}",
              "path": ["api", "v1", "commits", "recent"],
              "query": [
                {
                  "key": "count",
                  "value": "10",
                  "description": "Number of commits to retrieve"
                },
                {
                  "key": "branch",
                  "value": "main",
                  "description": "Branch name (optional)"
                }
              ]
            },
            "description": "Gets recent commits from the repository"
          },
          "response": []
        },
        {
          "name": "Review Latest Commit",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": {
              "raw": "{{protocol}}://{{host}}:{{port}}{{apiPath}}/commits/review-latest",
              "host": ["{{host}}"],
              "port": "{{port}}",
              "path": ["api", "v1", "commits", "review-latest"]
            },
            "description": "Performs AI review of the latest commit"
          },
          "response": []
        },
        {
          "name": "Review Specific Commit",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": {
              "raw": "{{protocol}}://{{host}}:{{port}}{{apiPath}}/commits/review/{{commitSha}}",
              "host": ["{{host}}"],
              "port": "{{port}}",
              "path": ["api", "v1", "commits", "review", "{{commitSha}}"]
            },
            "description": "Performs AI review of a specific commit by SHA"
          },
          "response": []
        }
      ]
    },
    {
      "name": "System Prompts",
      "description": "Operations for managing AI system prompts and templates",
      "item": [
        {
          "name": "Get All System Prompts",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{protocol}}://{{host}}:{{port}}{{apiPath}}/systemprompts",
              "host": ["{{host}}"],
              "port": "{{port}}",
              "path": ["api", "v1", "systemprompts"]
            },
            "description": "Gets all available system prompts for different languages"
          },
          "response": []
        },
        {
          "name": "Get Language-Specific Prompt",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{protocol}}://{{host}}:{{port}}{{apiPath}}/systemprompts/CSharp",
              "host": ["{{host}}"],
              "port": "{{port}}",
              "path": ["api", "v1", "systemprompts", "CSharp"]
            },
            "description": "Gets the system prompt for a specific language (CSharp, Java, JavaScript, TypeScript, React, VBNet, TSQL)"
          },
          "response": []
        },
        {
          "name": "Get Java System Prompt",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{protocol}}://{{host}}:{{port}}{{apiPath}}/systemprompts/Java",
              "host": ["{{host}}"],
              "port": "{{port}}",
              "path": ["api", "v1", "systemprompts", "Java"]
            },
            "description": "Gets the Java-specific system prompt and configuration"
          },
          "response": []
        },
        {
          "name": "Set Custom Language Prompt",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"customAdditions\": \"You are an expert C# code reviewer. Focus on performance, security, and best practices.\"\n}"
            },
            "url": {
              "raw": "{{protocol}}://{{host}}:{{port}}{{apiPath}}/systemprompts/CSharp/custom",
              "host": ["{{host}}"],
              "port": "{{port}}",
              "path": ["api", "v1", "systemprompts", "CSharp", "custom"]
            },
            "description": "Sets custom additions to the C# system prompt"
          },
          "response": []
        },
        {
          "name": "Set Custom Java Prompt",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"customAdditions\": \"You are an expert Java code reviewer. Focus on Spring Framework best practices, JPA optimization, and enterprise patterns. Pay special attention to memory management and thread safety.\"\n}"
            },
            "url": {
              "raw": "{{protocol}}://{{host}}:{{port}}{{apiPath}}/systemprompts/Java/custom",
              "host": ["{{host}}"],
              "port": "{{port}}",
              "path": ["api", "v1", "systemprompts", "Java", "custom"]
            },
            "description": "Sets custom additions to the Java system prompt"
          },
          "response": []
        },
        {
          "name": "Preview Language Prompt",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"customAdditions\": \"Focus on async/await patterns and dispose patterns.\"\n}"
            },
            "url": {
              "raw": "{{protocol}}://{{host}}:{{port}}{{apiPath}}/systemprompts/preview/CSharp",
              "host": ["{{host}}"],
              "port": "{{port}}",
              "path": ["api", "v1", "systemprompts", "preview", "CSharp"]
            },
            "description": "Previews how the C# system prompt will look with custom additions"
          },
          "response": []
        },
        {
          "name": "Preview Java Language Prompt",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"customAdditions\": \"Focus on Spring Boot best practices, JPA optimization, and proper exception handling. Ensure thread safety in concurrent code.\"\n}"
            },
            "url": {
              "raw": "{{protocol}}://{{host}}:{{port}}{{apiPath}}/systemprompts/preview/Java",
              "host": ["{{host}}"],
              "port": "{{port}}",
              "path": ["api", "v1", "systemprompts", "preview", "Java"]
            },
            "description": "Previews how the Java system prompt will look with custom additions"
          },
          "response": []
        },
        {
          "name": "Get Prompt Templates",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{protocol}}://{{host}}:{{port}}{{apiPath}}/systemprompts/templates",
              "host": ["{{host}}"],
              "port": "{{port}}",
              "path": ["api", "v1", "systemprompts", "templates"]
            },
            "description": "Gets available prompt templates for different scenarios"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Test Commits",
      "description": "Operations for testing commit functionality with sample data",
      "item": [
        {
          "name": "Get Recent Test Commits",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{protocol}}://{{host}}:{{port}}{{apiPath}}/testcommits/recent",
              "host": ["{{host}}"],
              "port": "{{port}}",
              "path": ["api", "v1", "testcommits", "recent"]
            },
            "description": "Gets recent commits for testing purposes"
          },
          "response": []
        },
        {
          "name": "Get Test Commit Data",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{protocol}}://{{host}}:{{port}}{{apiPath}}/testcommits/test",
              "host": ["{{host}}"],
              "port": "{{port}}",
              "path": ["api", "v1", "testcommits", "test"]
            },
            "description": "Gets test commit data for development and testing"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Workflow Engine",
      "description": "Operations for executing automated workflows",
      "item": [
        {
          "name": "Get All Workflows",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{protocol}}://{{host}}:{{port}}{{apiPath}}/workflows",
              "host": ["{{host}}"],
              "port": "{{port}}",
              "path": ["api", "v1", "workflows"]
            },
            "description": "Gets all available workflow configurations"
          },
          "response": []
        },
        {
          "name": "Get Specific Workflow",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{protocol}}://{{host}}:{{port}}{{apiPath}}/workflows/pull-request-workflow",
              "host": ["{{host}}"],
              "port": "{{port}}",
              "path": ["api", "v1", "workflows", "pull-request-workflow"]
            },
            "description": "Gets configuration for a specific workflow"
          },
          "response": []
        },
        {
          "name": "Execute Pull Request Workflow",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"workflowName\": \"pull-request-workflow\"\n}"
            },
            "url": {
              "raw": "{{protocol}}://{{host}}:{{port}}{{apiPath}}/workflows/execute/pullrequest/{{prNumber}}",
              "host": ["{{host}}"],
              "port": "{{port}}",
              "path": [
                "api",
                "v1",
                "workflows",
                "execute",
                "pullrequest",
                "{{prNumber}}"
              ]
            },
            "description": "Executes a workflow for a specific pull request"
          },
          "response": []
        },
        {
          "name": "Execute Commit Workflow",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"workflowName\": \"commit-workflow\"\n}"
            },
            "url": {
              "raw": "{{protocol}}://{{host}}:{{port}}{{apiPath}}/workflows/execute/commit/{{commitSha}}",
              "host": ["{{host}}"],
              "port": "{{port}}",
              "path": [
                "api",
                "v1",
                "workflows",
                "execute",
                "commit",
                "{{commitSha}}"
              ]
            },
            "description": "Executes a workflow for a specific commit"
          },
          "response": []
        },
        {
          "name": "Execute Custom Workflow",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"workflowName\": \"custom-workflow\",\n  \"context\": {\n    \"entityType\": \"pullrequest\",\n    \"entityId\": \"{{prNumber}}\",\n    \"repository\": \"{{currentOwner}}/{{currentRepo}}\"\n  }\n}"
            },
            "url": {
              "raw": "{{protocol}}://{{host}}:{{port}}{{apiPath}}/workflows/execute",
              "host": ["{{host}}"],
              "port": "{{port}}",
              "path": ["api", "v1", "workflows", "execute"]
            },
            "description": "Executes a custom workflow with specific context"
          },
          "response": []
        }
      ]
    },
    {
      "name": "GitHub App Integration",
      "description": "Operations for testing GitHub App authentication and configuration",
      "item": [
        {
          "name": "Get GitHub App Configuration",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{protocol}}://{{host}}:{{port}}{{apiPath}}/GitHubAppDebug/config",
              "host": ["{{host}}"],
              "port": "{{port}}",
              "path": ["api", "v1", "GitHubAppDebug", "config"]
            },
            "description": "Gets the current GitHub App configuration including App ID, Client ID, Installation ID, and private key status"
          },
          "response": []
        },
        {
          "name": "Test GitHub App Authentication",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{protocol}}://{{host}}:{{port}}{{apiPath}}/GitHubAppDebug/test",
              "host": ["{{host}}"],
              "port": "{{port}}",
              "path": ["api", "v1", "GitHubAppDebug", "test"]
            },
            "description": "Tests GitHub App authentication by validating configuration and attempting to fetch installation repositories. Returns validation status and repository count if successful."
          },
          "response": []
        },
        {
          "name": "Get JWT Token Details",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{protocol}}://{{host}}:{{port}}{{apiPath}}/GitHubAppDebug/jwt",
              "host": ["{{host}}"],
              "port": "{{port}}",
              "path": ["api", "v1", "GitHubAppDebug", "jwt"]
            },
            "description": "Generates and returns a JWT token for GitHub App authentication with detailed token information including header, claims, and timestamps. Useful for debugging authentication issues."
          },
          "response": []
        },
        {
          "name": "Check System Time",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{protocol}}://{{host}}:{{port}}{{apiPath}}/GitHubAppDebug/check-time",
              "host": ["{{host}}"],
              "port": "{{port}}",
              "path": ["api", "v1", "GitHubAppDebug", "check-time"]
            },
            "description": "Checks system time and timezone information. Returns UTC time, local time, Unix timestamp, and system information. Useful for debugging JWT token timestamp issues."
          },
          "response": []
        },
        {
          "name": "Get GitHub Server Time",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{protocol}}://{{host}}:{{port}}{{apiPath}}/GitHubAppDebug/github-time",
              "host": ["{{host}}"],
              "port": "{{port}}",
              "path": ["api", "v1", "GitHubAppDebug", "github-time"]
            },
            "description": "Gets GitHub server time for synchronization testing. Compares system time with GitHub server time to detect clock skew issues that might affect JWT token validation."
          },
          "response": []
        }
      ]
    },
    {
      "name": "Error Testing Scenarios",
      "description": "Test cases for error handling and edge cases",
      "item": [
        {
          "name": "Test Non-Existent Repository",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{protocol}}://{{host}}:{{port}}{{apiPath}}/repositories/validate/nonexistent/repository",
              "host": ["{{host}}"],
              "port": "{{port}}",
              "path": [
                "api",
                "v1",
                "repositories",
                "validate",
                "nonexistent",
                "repository"
              ]
            },
            "description": "Tests validation with a non-existent repository (should return 404)"
          },
          "response": []
        },
        {
          "name": "Test Non-Existent Pull Request",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{protocol}}://{{host}}:{{port}}{{apiPath}}/pullrequests/99999",
              "host": ["{{host}}"],
              "port": "{{port}}",
              "path": ["api", "v1", "pullrequests", "99999"]
            },
            "description": "Tests getting a non-existent pull request (should return 404)"
          },
          "response": []
        },
        {
          "name": "Test Invalid Commit SHA",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": {
              "raw": "{{protocol}}://{{host}}:{{port}}{{apiPath}}/commits/review/invalid-sha-12345",
              "host": ["{{host}}"],
              "port": "{{port}}",
              "path": ["api", "v1", "commits", "review", "invalid-sha-12345"]
            },
            "description": "Tests reviewing an invalid commit SHA (should return error)"
          },
          "response": []
        },
        {
          "name": "Test Unsupported Language Prompt",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{protocol}}://{{host}}:{{port}}{{apiPath}}/systemprompts/UnsupportedLanguage",
              "host": ["{{host}}"],
              "port": "{{port}}",
              "path": ["api", "v1", "systemprompts", "UnsupportedLanguage"]
            },
            "description": "Tests getting prompt for unsupported language (should return error or default)"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Cache Management",
      "description": "Operations for managing code review cache to improve performance",
      "item": [
        {
          "name": "Check Commit Cache Status",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{protocol}}://{{host}}:{{port}}{{apiPath}}/cache/commit/{{commitSha}}/exists",
              "host": ["{{host}}"],
              "port": "{{port}}",
              "path": [
                "api",
                "v1",
                "cache",
                "commit",
                "{{commitSha}}",
                "exists"
              ]
            },
            "description": "Check if a commit review is cached. Returns true if cached, false otherwise."
          },
          "response": []
        },
        {
          "name": "Check Pull Request Cache Status",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{protocol}}://{{host}}:{{port}}{{apiPath}}/cache/pullrequest/{{prNumber}}/exists",
              "host": ["{{host}}"],
              "port": "{{port}}",
              "path": [
                "api",
                "v1",
                "cache",
                "pullrequest",
                "{{prNumber}}",
                "exists"
              ]
            },
            "description": "Check if a pull request review is cached. Returns true if cached, false otherwise."
          },
          "response": []
        },
        {
          "name": "Clear All Cache",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{protocol}}://{{host}}:{{port}}{{apiPath}}/cache/clear",
              "host": ["{{host}}"],
              "port": "{{port}}",
              "path": ["api", "v1", "cache", "clear"]
            },
            "description": "Clear all cached reviews. Use with caution as this will remove all cached commit and PR reviews."
          },
          "response": []
        },
        {
          "name": "Clear Specific Commit Cache",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{protocol}}://{{host}}:{{port}}{{apiPath}}/cache/commit/{{commitSha}}",
              "host": ["{{host}}"],
              "port": "{{port}}",
              "path": ["api", "v1", "cache", "commit", "{{commitSha}}"]
            },
            "description": "Clear cached review for a specific commit SHA."
          },
          "response": []
        },
        {
          "name": "Clear Specific Pull Request Cache",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{protocol}}://{{host}}:{{port}}{{apiPath}}/cache/pullrequest/{{prNumber}}",
              "host": ["{{host}}"],
              "port": "{{port}}",
              "path": ["api", "v1", "cache", "pullrequest", "{{prNumber}}"]
            },
            "description": "Clear cached review for a specific pull request number."
          },
          "response": []
        }
      ]
    },
    {
      "name": "Repository Filter Management",
      "description": "Operations for managing repository filter settings to control which repositories are displayed",
      "item": [
        {
          "name": "Get Repository Filter Settings",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{protocol}}://{{host}}:{{port}}{{apiPath}}/repositoryfilters",
              "host": ["{{host}}"],
              "port": "{{port}}",
              "path": ["api", "v1", "repositoryfilters"]
            },
            "description": "Retrieves the current repository filter settings including include/exclude patterns and filtering mode"
          },
          "response": []
        },
        {
          "name": "Update Repository Filter Settings",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"enableFiltering\": true,\n  \"defaultMode\": \"ShowAll\",\n  \"includePatterns\": [\n    {\n      \"pattern\": \"ai*\",\n      \"provider\": \"github\",\n      \"owner\": \"\",\n      \"caseSensitive\": false,\n      \"description\": \"Include all repositories starting with 'ai'\"\n    }\n  ],\n  \"excludePatterns\": [\n    {\n      \"pattern\": \"test*\",\n      \"provider\": \"\",\n      \"owner\": \"\",\n      \"caseSensitive\": false,\n      \"description\": \"Exclude all test repositories\"\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{protocol}}://{{host}}:{{port}}{{apiPath}}/repositoryfilters",
              "host": ["{{host}}"],
              "port": "{{port}}",
              "path": ["api", "v1", "repositoryfilters"]
            },
            "description": "Updates the repository filter settings. Use this to configure which repositories are shown in the application."
          },
          "response": []
        },
        {
          "name": "Test Repository Filter Pattern",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"repositoryName\": \"AICodeReviewer\",\n  \"owner\": \"Darko-Martinovic\",\n  \"pattern\": {\n    \"pattern\": \"ai*\",\n    \"provider\": \"github\",\n    \"owner\": \"\",\n    \"caseSensitive\": false,\n    \"description\": \"Test pattern for repositories starting with 'ai'\"\n  }\n}"
            },
            "url": {
              "raw": "{{protocol}}://{{host}}:{{port}}{{apiPath}}/repositoryfilters/test",
              "host": ["{{host}}"],
              "port": "{{port}}",
              "path": ["api", "v1", "repositoryfilters", "test"]
            },
            "description": "Tests whether a repository name matches a specific filter pattern. Useful for validating patterns before applying them."
          },
          "response": []
        },
        {
          "name": "Validate Repository Filter Pattern",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"pattern\": \"ai*\",\n  \"provider\": \"github\",\n  \"owner\": \"\",\n  \"caseSensitive\": false,\n  \"description\": \"Validate pattern for repositories starting with 'ai'\"\n}"
            },
            "url": {
              "raw": "{{protocol}}://{{host}}:{{port}}{{apiPath}}/repositoryfilters/validate",
              "host": ["{{host}}"],
              "port": "{{port}}",
              "path": ["api", "v1", "repositoryfilters", "validate"]
            },
            "description": "Validates a filter pattern without testing it against specific repositories. Checks for syntax errors and supported provider values."
          },
          "response": []
        },
        {
          "name": "Get Filtered Repositories Preview",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{protocol}}://{{host}}:{{port}}{{apiPath}}/repositoryfilters/preview",
              "host": ["{{host}}"],
              "port": "{{port}}",
              "path": ["api", "v1", "repositoryfilters", "preview"]
            },
            "description": "Gets a preview of repositories that would be shown with the current filter settings. Includes total repository count and filter settings for comparison."
          },
          "response": []
        },
        {
          "name": "Reset Repository Filter Settings",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{protocol}}://{{host}}:{{port}}{{apiPath}}/repositoryfilters",
              "host": ["{{host}}"],
              "port": "{{port}}",
              "path": ["api", "v1", "repositoryfilters"]
            },
            "description": "Resets repository filter settings to default (show all repositories). This removes all include/exclude patterns and disables filtering."
          },
          "response": []
        }
      ]
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Auto-populate commitSha from previous responses if available",
          "if (pm.response && pm.response.json) {",
          "    try {",
          "        const responseJson = pm.response.json();",
          "        if (responseJson.commits && responseJson.commits.length > 0) {",
          "            pm.collectionVariables.set('commitSha', responseJson.commits[0].sha);",
          "        }",
          "    } catch (e) {",
          "        // Ignore JSON parsing errors",
          "    }",
          "}"
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Global test script for all requests",
          "pm.test('Status code is not 500', function () {",
          "    pm.expect(pm.response.code).to.not.equal(500);",
          "});",
          "",
          "pm.test('Response has JSON content type or is expected error', function () {",
          "    const contentType = pm.response.headers.get('Content-Type');",
          "    const statusCode = pm.response.code;",
          "    ",
          "    if (statusCode >= 200 && statusCode < 300) {",
          "        pm.expect(contentType).to.include('application/json');",
          "    }",
          "});",
          "",
          "// Extract useful data for subsequent requests",
          "if (pm.response.code === 200) {",
          "    try {",
          "        const responseJson = pm.response.json();",
          "        ",
          "        // Extract commit SHA if available",
          "        if (responseJson.commits && responseJson.commits.length > 0) {",
          "            pm.collectionVariables.set('commitSha', responseJson.commits[0].sha);",
          "        }",
          "        ",
          "        // Extract repository info if available",
          "        if (responseJson.owner && responseJson.name) {",
          "            pm.collectionVariables.set('currentOwner', responseJson.owner);",
          "            pm.collectionVariables.set('currentRepo', responseJson.name);",
          "        }",
          "    } catch (e) {",
          "        // Ignore JSON parsing errors",
          "    }",
          "}"
        ]
      }
    }
  ]
}
